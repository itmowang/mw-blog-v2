(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[548],{4068:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/list",function(){return s(3211)}])},3211:function(e,t,s){"use strict";s.r(t);var n=s(1527),i=s(959),a=s(4231),l=s(9375);t.default=e=>{let[t,s]=(0,i.useState)([]),[c,d]=(0,i.useState)(0),[o,r]=(0,i.useState)(1),u=(0,l.useRouter)();(0,i.useEffect)(()=>{p(o)},[]);let p=async e=>{let t=await a.Z.post("/api/post/list",{page:e,pageSize:10});if(t.data.success){var n,i;s(null===(n=t.data.data)||void 0===n?void 0:n.posts),d(null===(i=t.data.data)||void 0===i?void 0:i.totalCount)}},h=e=>{u.push("/admin/edit?isedit=edit&id=".concat(e.id))},m=e=>{p(e)};return(0,n.jsxs)("div",{className:"flex flex-col min-h-screen  bg-pink-300 p-8",children:[(0,n.jsx)("h1",{className:"text-4xl font-bold text-white",children:"管理文章"}),(0,n.jsx)("div",{className:"mt-8",children:t.map(e=>{var t;return(0,n.jsxs)("div",{className:"p-4 mb-4 bg-white rounded flex justify-between items-center ",children:[(0,n.jsxs)("div",{children:["  ",(0,n.jsx)("h2",{className:"text-xl font-bold",children:e.title}),(0,n.jsx)("p",{className:"mt-2",children:null==e?void 0:null===(t=e.category)||void 0===t?void 0:t.name})]}),(0,n.jsx)("button",{className:"px-4 py-2 mt-4 text-white bg-pink-700 rounded",onClick:()=>h(e),children:"编辑"})]},e.id)})}),(0,n.jsx)("div",{className:"flex justify-center mt-4",children:Array.from({length:Math.ceil(c/10)},(e,t)=>t+1).map(e=>(0,n.jsx)("button",{className:"px-4 py-2 mx-2 text-white bg-pink-700 rounded ".concat(e===o?"bg-pink-900":""),onClick:()=>m(e),children:e},e))})]})}},4231:function(e,t,s){"use strict";var n=s(3669);n.Z.create({baseURL:"",timeout:1e3,headers:{"Content-Type":"application/json"}}),n.Z.interceptors.request.use(e=>{let t=localStorage.getItem("token");return e.headers.token=t||"",e}),n.Z.interceptors.response.use(e=>e),t.Z=n.Z}},function(e){e.O(0,[719,774,888,179],function(){return e(e.s=4068)}),_N_E=e.O()}]);