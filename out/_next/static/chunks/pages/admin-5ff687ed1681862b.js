(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{7230:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return a(5388)}])},5388:function(e,t,a){"use strict";a.r(t);var s=a(1527),n=a(959),o=a(9375),l=a(4231);let r=()=>{let e=(0,o.useRouter)(),[t,a]=(0,n.useState)(""),[r,i]=(0,n.useState)(""),u=async a=>{if(a.preventDefault(),t&&r){let a=await l.Z.post("/api/login",{email:t,password:r});a.data.success?(console.log(a.data.data),alert("登录成功！"),localStorage.setItem("token",a.data.data.token),e.push("/admin/manage")):alert(a.data.message||"登录失败！")}else alert("请输入邮箱和密码！")};return(0,s.jsx)("div",{className:"flex justify-center items-center h-screen bg-pink-100",children:(0,s.jsxs)("form",{className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4",onSubmit:u,children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"Email"}),(0,s.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"email",type:"email",placeholder:"Email",value:t,onChange:e=>{a(e.target.value)}})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"password",children:"Password"}),(0,s.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"password",type:"password",placeholder:"Password",value:r,onChange:e=>{i(e.target.value)}})]}),(0,s.jsx)("div",{className:"flex items-center justify-center",children:(0,s.jsx)("button",{className:"bg-pink-500 hover:bg-pink-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"submit",children:"Sign In"})})]})})};t.default=e=>(0,s.jsx)(r,{})},4231:function(e,t,a){"use strict";var s=a(3669);s.Z.create({baseURL:"",timeout:1e3,headers:{"Content-Type":"application/json"}}),s.Z.interceptors.request.use(e=>{let t=localStorage.getItem("token");return e.headers.token=t||"",e}),s.Z.interceptors.response.use(e=>e),t.Z=s.Z}},function(e){e.O(0,[719,774,888,179],function(){return e(e.s=7230)}),_N_E=e.O()}]);